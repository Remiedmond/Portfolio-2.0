import"../chunks/DsnmJJEf.js";import"../chunks/CdDrXOyk.js";import{as as W,w as f,x as H,a as t,r as l,at as X,y as r,z as i,v as Y,A as o,au as ee,o as T,av as m,s as c,q as ae}from"../chunks/DdXIXP4N.js";import{h as se,e as te,s as re}from"../chunks/CioQEy2O.js";import{i as U}from"../chunks/ChgPCXrZ.js";import{r as u,s as $}from"../chunks/Co_QRgIW.js";import{b as v}from"../chunks/CSJdi1UK.js";import{i as oe}from"../chunks/mPP3-exX.js";import{b as ie}from"../chunks/C5kxyLay.js";import{l as ne}from"../chunks/D5ow9lCF.js";var ce=f('<link href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css" rel="stylesheet"/>'),le=f('<span class="loading">Envoi en cours...</span>'),me=f('<div class="success-message"> </div>'),ve=f('<div class="contact-container"><img class="bannière" alt="Bannière"/> <main class="contact-main"><section class="contact-section"><div class="contact-info"><div class="profile-section"><img class="logo12" alt="Logo de Rémi EDMOND"/> <h1>Rémi EDMOND</h1> <div class="iconess"><a href="https://www.instagram.com/remi.edm.crea/"><i class="bx bxl-instagram" aria-hidden="true"></i></a> <a href="https://www.facebook.com/profile.php?id=100075399970510"><i class="bx bxl-facebook-circle" aria-hidden="true"></i></a> <a href="https://www.linkedin.com/in/r%C3%A9mi-edmond-375255286/"><i class="bx bxl-linkedin" aria-hidden="true"></i></a> <a href="https://www.youtube.com/channel/UC7Zo0pTwfNzGmmBk3IA6t5A"><i class="bx bxl-youtube" aria-hidden="true"></i></a></div></div></div> <div class="contact-form-container"><form class="contact-form"><div class="form-header"><h3>Prenons <span class="highlight">contact</span> !</h3></div> <div class="form-row"><div class="form-group"><input type="text" placeholder="Prénom" required class="form-input"/></div> <div class="form-group"><input type="text" placeholder="Nom" required class="form-input"/></div></div> <div class="form-group"><input type="email" placeholder="Adresse e-mail" required class="form-input"/></div> <div class="form-group"><input type="text" placeholder="Sujet" required class="form-input"/></div> <div class="form-group"><textarea placeholder="Votre message..." rows="6" required class="form-textarea"></textarea></div> <button type="submit" class="submit-btn"><!></button> <!></form></div></section></main></div>');function ke(G,I){W(I,!1);let s=T({prenom:"",nom:"",email:"",subject:"",message:""}),d=T(!1),n=T("");const j=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:3001/api/contact":"https://xoco3291.odns.fr:3001/api/contact";async function J(e){e.preventDefault(),c(d,!0),c(n,"");try{console.log("Tentative d'envoi vers:",j()),console.log("Données à envoyer:",t(s));const a=await fetch(j(),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t(s)),mode:"cors",credentials:"omit"});if(console.log("Statut de la réponse:",a.status),!a.ok){let E;try{E=(await a.json()).error||`Erreur HTTP ${a.status}`}catch{E=`Erreur HTTP ${a.status}`}throw new Error(E)}const D=await a.json();console.log("Réponse reçue:",D),c(n,"Message envoyé avec succès !"),c(s,{prenom:"",nom:"",email:"",subject:"",message:""})}catch(a){console.error("Erreur complète:",a),c(n,`Erreur : ${a.message}`),a.message.includes("fetch")&&c(n,t(n)+" (Problème de connexion au serveur)")}finally{c(d,!1),setTimeout(()=>{c(n,"")},5e3)}}oe();var h=ve();se(e=>{var a=ce();l(e,a)});var q=r(h),A=i(q,2),P=r(A),b=r(P),S=r(b),L=r(S);Y(4),o(S),o(b);var M=i(b,2),g=r(M),_=i(r(g),2),x=r(_),N=r(x);u(N),o(x);var O=i(x,2),C=r(O);u(C),o(O),o(_);var w=i(_,2),R=r(w);u(R),o(w);var y=i(w,2),z=r(y);u(z),o(y);var k=i(y,2),B=r(k);ee(B),o(k);var p=i(k,2),V=r(p);{var Z=e=>{var a=le();l(e,a)},F=e=>{var a=ae("Envoyer le message");l(e,a)};U(V,e=>{t(d)?e(Z):e(F,!1)})}o(p);var K=i(p,2);{var Q=e=>{var a=me(),D=r(a,!0);o(a),H(()=>re(D,t(n))),l(e,a)};U(K,e=>{t(n)&&e(Q)})}o(g),o(M),o(P),o(A),o(h),H(()=>{$(q,"src",ie),$(L,"src",ne),p.disabled=t(d)}),v(N,()=>t(s).prenom,e=>m(s,t(s).prenom=e)),v(C,()=>t(s).nom,e=>m(s,t(s).nom=e)),v(R,()=>t(s).email,e=>m(s,t(s).email=e)),v(z,()=>t(s).subject,e=>m(s,t(s).subject=e)),v(B,()=>t(s).message,e=>m(s,t(s).message=e)),te("submit",g,J),l(G,h),X()}export{ke as component};
